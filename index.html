<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Write a message to your future self and have it emailed on your chosen date!">
  <meta property="og:title" content="Digital Time Capsule">
  <meta property="og:description" content="Send a message to your future self. A simple act of magic.">
  <title>Digital Time Capsule</title>

  <!-- External CSS -->
  <link rel="stylesheet" href="styles.css">

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4362866496862519" crossorigin="anonymous"></script>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-firestore.js"></script>
</head>

<body>

  <div class="container">
    <img src="logo.png" alt="Digital Time Capsule Logo" class="logo">

    <h1>Send a Letter to Your Future Self</h1>
    <p class="subtitle">Select any future date. Write from the heart. We'll deliver it.</p>

    <!-- Firebase Form -->
    <form id="timeCapsuleForm" class="form">
      <textarea name="message" id="message" placeholder="Write your message here..." required></textarea>
      <input type="email" name="email" id="email" placeholder="Your Email Address" required>
      <label for="delivery_date" class="label">Choose Delivery Date:</label>
      <input type="date" name="delivery_date" id="delivery_date" required>
      <button type="submit" class="btn">Send to the Future</button>
    </form>
  </div>

  <!-- Footer -->
  <footer>
    <p>Made with love for dreamers.</p>
  </footer>

  <!-- Google AdSense -->
  <div class="adsbygoogle">
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4362866496862519" data-ad-slot="1234567890"></ins>
  </div>

  <!-- Cookie Consent -->
  <div class="cookie-consent">
    <p>This website uses cookies to ensure you get the best experience on our website.</p>
    <button onclick="acceptCookies()">Got it!</button>
  </div>

  <!-- Firebase Configuration & Script -->
  <script>
    // Your Firebase configuration object
    const firebaseConfig = {
      apiKey: "AIzaSyAA8OyVBZUqNQbMtndtHdGW7CUd2Ls4KZQ",
      authDomain: "time-capsule-86b3a.firebaseapp.com",
      projectId: "time-capsule-86b3a",
      storageBucket: "time-capsule-86b3a.firebasestorage.app",
      messagingSenderId: "428621792032",
      appId: "1:428621792032:web:22bd98b187444e201e0d45"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Handle Form Submission
    document.getElementById('timeCapsuleForm').addEventListener('submit', function (e) {
      e.preventDefault();

      // Collect form data
      const message = document.getElementById('message').value;
      const email = document.getElementById('email').value;
      const deliveryDate = document.getElementById('delivery_date').value;

      // Add data to Firestore
      db.collection('timeCapsules').add({
        message: message,
        email: email,
        deliveryDate: deliveryDate,
        timestamp: new Date()
      }).then(() => {
        alert('Your message has been saved!');
      }).catch((error) => {
        console.error('Error adding document: ', error);
      });
    });

    // Cookie Consent Function
    function acceptCookies() {
      document.querySelector('.cookie-consent').style.display = 'none';
    }
  </script>
</body>

</html>
